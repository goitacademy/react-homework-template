**Read in other languages: [Українська](README.md), [Polska](README.pl.md),
[English](README.en.md), [Española](README.es.md), [Русский](README.ru.md).**

# React homework template

Цей проект було створено за допомогою
[Create React App](https://github.com/facebook/create-react-app). Для знайомства
та налаштування додаткових можливостей
[звертайся до документації](https://facebook.github.io/create-react-app/docs/getting-started).

## Підготовка нового проекту

1. Переконайся, що на комп'ютері встановлено LTS-версію Node.js.
   [Скачай та встанови](https://nodejs.org/en/) її якщо необхідно.
2. Клонуй цей репозиторій.
3. Зміни ім'я папки з `react-homework-template` на ім'я свого проекту.
4. Створи новий порожній репозиторій на GitHub.
5. Відкрий проект у VSCode, запусти термінал та зв'яжи проект з
   GitHub-репозиторієм
   [за інструкцією](https://docs.github.com/en/get-started/getting-started-with-git/managing-remote-repositories#changing-a-remote-repositorys-url).
6. Встанови базові залежності проекту командою `npm install`.
7. Запусти режим розробки, виконавши команду `npm start`.
8. Перейди в браузері за адресою [http://localhost:3000](http://localhost:3000).
   Ця сторінка буде автоматично перезавантажуватись після збереження змін у
   файлах проекту.

## Деплой

Продакшн версія проекту автоматично проходитиме лінтинг, збиратиметься і
деплоїтися на GitHub Pages, у гілку `gh-pages`, щоразу коли оновлюється гілка
`main`. Наприклад, після прямого пуша або прийнятого пул-реквесту. Для цього
необхідно у файлі `package.json` відредагувати поле `homepage`, замінивши
`your_username` та `your_repo_name` на свої, і відправити зміни на GitHub.

```json
"homepage": "https://your_username.github.io/your_repo_name/"
```

Далі необхідно зайти в налаштування GitHub-репозиторія (`Settings` > `Pages`) та
виставити роздачу продакшн версії файлів з папки `/root` гілки `gh-pages`, якщо
це не було зроблено автоматично.

![GitHub Pages settings](./assets/repo-settings.png)

### Статус деплою

Статус деплою останнього комміту відображається іконкою біля його
ідентифікатора.

- **Жовтий колір** - виконується збирання та деплой проекту.
- **Зелений колір** - деплой завершився успішно.
- **Червоний колір** - під час лінтингу, збирання або деплою сталася помилка.

Більш детальну інформацію про статус можна переглянути натиснувши на іконку, і в
випадаючому вікні перейти за посиланням `Details`.

![Deployment status](./assets/status.png)

### Жива сторінка

Через деякий час, зазвичай кілька хвилин, живу сторінку можна буде подивитися за
адресою вказаною у відредагованій властивості `homepage`. Наприклад, ось
посилання на живу версію для цього репозиторію
[https://stas-yushkov.github.io/react-homework-template](https://stas-yushkov.github.io/react-homework-template).

Якщо відкриється порожня сторінка, переконайтеся, що у вкладці `Console` немає
помилок пов'язаних з неправильними шляхами до CSS та JS файлів проекту
(**404**). Швидше всього в тебе неправильне значення властивості `homepage` у
файлі `package.json`.

### Маршрутизація

Якщо додаток використовує бібліотеку `react-router-dom` для маршрутизації,
необхідно додатково налаштувати компонент `<BrowserRouter>`, передавши в пропі
'basename' - точну назва твого репозиторію. Слеші на початку та в кінці рядка
обов'язкові.

```jsx
<BrowserRouter basename="/your_repo_name/">
  <App />
</BrowserRouter>
```

## Як це працює

![How it works](./assets/how-it-works.png)

1. Після кожного пуша у гілку `main` GitHub-репозиторія, запускається
   спеціальний скрипт (GitHub Action) із файлу `.github/workflows/deploy.yml`.
2. Усі файли репозиторію копіюються на сервер, де проект ініціалізується та
   проходить лінтинг та збирання перед деплоєм.
3. Якщо всі кроки пройшли успішно, зібрана продакшн версія файлів проекту
   вирушає у гілку `gh-pages`. В іншому випадку, у лозі виконання скрипту буде
   вказано в чому проблема.
